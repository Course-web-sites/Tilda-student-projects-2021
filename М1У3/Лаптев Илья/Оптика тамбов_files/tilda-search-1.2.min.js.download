$(document).ready((function(){$("head").append("<style>@-webkit-keyframes rotate360{to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes rotate360{to{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes rotate360{to{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate360{to{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}.t-site-search-input input::-ms-clear{display:none}.t-site-search-dm{z-index:9999;position:absolute;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.05);background-color:#fff;max-height:70vh;overflow-y:scroll;right:0;left:0;text-align:left}.t-site-search-dm__result{margin:15px}.t-site-search-dm__result a{color:#111!important;text-decoration:none}.t-site-search-dm__result__title{color:#000;text-align:left;font-size:20px;margin-bottom:3px;height:auto;display:block!important}.t-site-search-dm__result__product_title b,.t-site-search-dm__result__title b{font-weight:600}.t-site-search-close,.t-site-search-loader{position:absolute;display:none;top:0;bottom:0;margin:auto;right:20px}.t-site-search-loader{-webkit-animation:rotate360 2s linear infinite;-moz-animation:rotate360 2s linear infinite;-o-animation:rotate360 2s linear infinite;animation:rotate360 2s linear infinite;opacity:.7}.t-site-search-close{opacity:.8;cursor:pointer}.t-site-search-popup__preloader{-webkit-animation:rotate360 2s linear infinite;-moz-animation:rotate360 2s linear infinite;-o-animation:rotate360 2s linear infinite;animation:rotate360 2s linear infinite;margin-left:15px;display:none}.t-site-search-dm__result__body{font-size:14px;text-align:left;color:#323232}.t-site-search-dm__result__product,.t-site-search-dm__result__product_text{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.t-site-search-dm__result__product_text{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.t-site-search-dm__result__product_img{position:absolute;top:0;bottom:0;left:0;right:0;-webkit-background-size:cover;-moz-background-size:cover;background-size:cover;background-position:center;background-repeat:no-repeat}.t-site-search-dm__result__product_title{color:#000;text-align:left;font-size:20px;margin-bottom:3px;height:auto;display:block;line-height:22px}.t-site-search-dm__result__product_price{color:rgba(0,0,0,.55);margin-top:2px}.t-site-search-dm__allresultslink{padding-bottom:30px;padding-right:20px;text-decoration:underline!important;color:#000!important;float:right;cursor:pointer}.t-site-search-popup,.t-site-search-popup__background{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.t-site-search-popup__background{position:fixed;top:0;right:0;bottom:0;left:0;overflow-y:auto;-webkit-transition:opacity ease-in-out .3s;-moz-transition:opacity ease-in-out .3s;-o-transition:opacity ease-in-out .3s;transition:opacity ease-in-out .3s;width:100%;height:100%;padding:0 20px;background-color:rgba(0,0,0,.6);z-index:9999999}.t-site-search-popup{z-index:100000;padding:60px 60px 0!important;-webkit-box-shadow:0 2px 10px rgba(0,0,0,.1);-moz-box-shadow:0 2px 10px rgba(0,0,0,.1);box-shadow:0 2px 10px rgba(0,0,0,.1);border:1px solid rgba(0,0,0,.05);background-color:#fff;margin:5vh auto;min-height:90vh}.t-site-search-pu__close img{width:25px;opacity:1;float:right;margin-right:-35px;cursor:pointer;margin-top:-40px}.t-site-search-pu__pagination{margin-bottom:40px;display:block}.t-site-search-pu__pagination-active{pointer-events:none;color:gray}.t-site-search-pu__pagination span{margin:0 15px 0 0}.t-site-search-pu__pagination span:first-child{margin-left:0}.t-site-search-pu__pagination span:last-child{margin-right:0}.t-site-search-pu__pagination span[page]{cursor:pointer;font-size:16px;font-weight:700;width:30px;max-width:30px;height:30px;line-height:32px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.body-fix{height:100vh;min-height:100vh;overflow:hidden}@media screen and (max-width:620px){.t-site-search-popup{padding:60px 20px 0!important;top:0;margin-bottom:0}.t-site-search-pu__close img{margin-right:-5px;margin-top:-40px}}.t-site-search-dm__thubmnail{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:-moz-box;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-box-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;-moz-box-pack:center;justify-content:center;border:1px solid #eee;margin-right:15px;min-width:70px;max-width:70px;min-height:70px;max-height:70px;position:relative}</style>");var inputFormWidth=0,inputFormLeft=0,timerID=0,currentInput,currentPage,xhr,close_svg="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAxIiBoZWlnaHQ9IjEwMSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNOTguNjUgOTYuNTVMNTIuMTEgNDkuOTMgOTguMzYgMy41Yy41OS0uNTkuNTktMS40NyAwLTIuMDZhMS40MiAxLjQyIDAgMDAtMi4wNiAwTDUwLjA1IDQ3Ljg3IDMuNjkgMS40NGExLjQyIDEuNDIgMCAwMC0yLjA1IDAgMS40MiAxLjQyIDAgMDAwIDIuMDZsNDYuMzUgNDYuNDNMMS40NCA5Ni41NUExLjQyIDEuNDIgMCAwMDMuNCA5OC42bDQ2LjU1LTQ2LjYyTDk2LjUgOTguNmMuMy4zLjY4LjM5Ljk4LjM5LjMgMCAuNjgtLjEuOTgtLjQuNjgtLjU4LjY4LTEuNDYuMi0yLjA1eiIgZmlsbD0iIzExMSIgc3Ryb2tlPSIjMTExIi8+PC9zdmc+",loader_svg="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2NCIgaGVpZ2h0PSI2NCIgdmlld0JveD0iMCAwIDY0IDY0IiBmaWxsPSJub25lIj48c3R5bGU+LmF7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlOiM3RjdGN0Y7fS5ie3N0cm9rZS1saW5lam9pbjpiZXZlbDtzdHJva2Utd2lkdGg6MjtzdHJva2U6IzdGN0Y3Rjt9PC9zdHlsZT48cGF0aCBkPSJNMzMgMUM0MC43IDEgNDguNCAzLjkgNTQuMiA5LjggNjQuOSAyMC41IDY1LjggMzcuMiA1NyA0OUw1MSA1NSIgY2xhc3M9ImEiLz48cGF0aCBkPSJNMzEgNjNDMjMuMyA2MyAxNS42IDYwLjEgOS44IDU0LjIgLTAuOSA0My41LTEuOCAyNi44IDcgMTVMMTMgOSIgY2xhc3M9ImEiLz48cGF0aCBkPSJNNTEgNDRWNTVINjIiIGNsYXNzPSJiIi8+PHBhdGggZD0iTTEzIDIwVjlIMiIgY2xhc3M9ImIiLz48L3N2Zz4=",lang=window.browserLang,translation={placeholder:{EN:"Search",RU:"Поиск",FR:"Rechercher",DE:"Suche",ES:"Buscar",PT:"Procurar",UK:"Пошук",JA:"探す",ZH:"搜索",PL:"Wyszukiwanie",KK:"Іздеу",IT:"Ricerca",LV:"Meklēt"},noResult:{EN:"Nothing found",RU:"Ничего не найдено",FR:"Rien n'a été trouvé",DE:"Nichts gefunden",ES:"Nada Encontrado",PT:"Nada encontrado",UK:"Нічого не знайдено",JA:"何も見つかりません",ZH:"没有发现",PL:"Nic nie znaleziono",KK:"Ештеңе табылмады",IT:"Non abbiamo trovato nulla",LV:"Nekas nav atrasts"},showAll:{EN:"Show all results",RU:"Показать все результаты",FR:"Afficher tous les résultats",DE:"Alle Ergebnisse anzeigen",ES:"Mostrar todos los resultados",PT:"Mostrar todos os resultados",UK:"Показати всі результати",JA:"すべての検索結果を表示",ZH:"显示所有结果",PL:"Pokaż wszystko",KK:"Барлық нәтижелерді көрсету",IT:"Mostra tutti i risultati",LV:"Rādīt visus rezultātus"},showAlltitle:{EN:"Results for",RU:"Результаты по запросу",FR:"Résultats pour",DE:"Ergebnisse für",ES:"Resultados para",PT:"Resultados para",UK:"Результати за запитом",JA:"の結果：",ZH:"结果：",PL:"Wyniki wyszukiwania",KK:"Арналған нәтижелері",IT:"Risultati per",LV:"Rezultāti par"},errorOccurred:{EN:"An error occurred while sending the request",RU:"При отправке запроса произошла ошибка",FR:"Une erreur est survenue pendant l'envoi de la demande",DE:"Fehler beim Senden der Anforderung",ES:"Se produjo un error al enviar la solicitud",PT:"Ocorreu um erro ao enviar o pedido",UK:"При відправленні запиту виникла помилка",JA:"リクエストを送信中にエラーが発生しました",ZH:"发送请求时出错",PL:"Wystąpił błąd podczas wysyłania żądania",KK:"Сұрау жіберу кезінде қате пайда болды",IT:"Si è verificato un errore durante l'invio della richiesta",LV:"Radās kļūda nosūtot pieprasījumu"},errorOccurredText:{EN:"The server could not respond to the request",RU:"Сервер не смог ответить на запрос",FR:"Le serveur n'a pas pu répondre à la demande",DE:"Der Server konnte nicht auf die Anfrage antworten",ES:"El servidor no ha podido responder a la solicitud",PT:"O servidor não conseguiu responder ao pedido",UK:"Сервер не зміг відповісти на запит",JA:"サーバが要求に応答することができませんでした",ZH:"服务器无法响应请求",PL:"Serwer nie odpowiada",KK:"Сервер сұрауына жауап алмады,",IT:"Il server non ha potuto rispondere alla richiesta",LV:"Serveris nevarēja atbildēt uz pieprasījumu"},description:{EN:"Description",RU:"Описание",FR:"La description",DE:"Beschreibung",ES:"Descripción",PT:"Descrição",UK:"Опис",JA:"説明",ZH:"描述",PL:"Opis",KK:"Сипаттамасы",IT:"Descrizione",LV:"Apraksts"}};if(window.isMobile?$(window).on("orientationchange",(function(){tsearch__searchDMClose()})):$(window).resize((function(){tsearch__searchDMClose()})),$(".t-site-search-input input").each((function(){0==$(this).attr("placeholder").length&&$(this).attr("placeholder",translation.placeholder[lang])})),"URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice");null===slice&&(slice=1),null!==query&&(currentInput=$('<input value="'+escapeHtml(query)+'">'),currentPage=slice,tsearch__request(2,slice,query))}function tsearch__waitESCpressed(event){27==event.keyCode&&($(".t-site-search-dm").length>0&&(tsearch__searchDMClose(),event.preventDefault()),$(".t-site-search-popup").length>0&&(tsearch__hidePopup(),xhr&&xhr.abort(),event.preventDefault()))}function tsearch__waitCLICKdone(event){$(event.target).closest(".t-site-search-pu__close img").length&&$(".t-site-search-pu__close img").length>0&&(tsearch__hidePopup(),xhr&&xhr.abort()),$(event.target).closest(".t-site-search-dm").length||$(event.target).closest(currentInput).length||tsearch__searchDMClose(),$(event.target).closest(".t-site-search-popup").length||$(".t-site-search-popup").length>0&&(tsearch__hidePopup(),xhr&&xhr.abort()),$(event.target).closest(".t-site-search-close").length&&(tsearch__searchDMClose(),$(event.target).parent("div").children("input").val(""),$(event.target).hide())}function tsearch__displayDownMenu(sResults){$("body").keyup((function(event){tsearch__waitESCpressed(event)})),$("body").click((function(event){tsearch__waitCLICKdone(event)})),$(".t-site-search-dm").remove();var html='<div class="t-site-search-dm" style="width: '+inputFormWidth+"px !important; left: "+inputFormLeft+'px !important">';sResults.total>0?($.each(sResults.pages,(function(key,value){if(!0===sResults.error)html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-text">'+value.title+'</div><div class="t-site-search-dm__result__body t-text">'+value.highlight+"</div></div>";else if(void 0!==value.product){var price=parseFloat(value.product.price)||"";html+='<div class="t-site-search-dm__result"><a class="t-site-search-dm__result__product" target="_blank" href="'+value.pageurl+'"><div class="t-site-search-dm__thubmnail"><div class="t-site-search-dm__result__product_img" style="background-image:url(\''+value.product.img+'\')"></div></div><div class="t-site-search-dm__result__product_text"><div class="t-site-search-dm__result__product_title t-text">'+value.title+'</div><div class="t-site-search-dm__result__product_price t-text">'+price+"</div></div></a></div>"}else html+='<div class="t-site-search-dm__result"><a target="_blank" href="'+value.pageurl+'"><div class="t-site-search-dm__result__title t-text">'+value.title+'</div><div class="t-site-search-dm__result__body t-text">'+value.highlight+"</div></a></div>"})),sResults.total>10&&(html+='<a class="t-site-search-dm__allresultslink t-descr">'+translation.showAll[lang]+"</a>"),$(".tilda-site-search-close-img").css("display","inline")):html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-text">'+translation.noResult[lang]+"</div></div>",html+="</div>",currentInput.after(html),currentInput.parent("div").children(".t-site-search-close").show()}function tsearch__displayPopup(sResults,initUp){if(initUp=initUp||!1,$("body").keyup((function(event){tsearch__waitESCpressed(event)})),$("body").click((function(event){tsearch__waitCLICKdone(event)})),"URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice");void 0!==currentInput&&query!==currentInput.val()&&search.set("search",escapeHtml(currentInput.val())),slice!==currentPage&&currentPage>0&&search.set("slice",currentPage>0?currentPage:1),history.replaceState(null,"",location.pathname+"?"+search.toString())}$(".t-site-search-dm").remove();var html='<div class="t-site-search-popup__background"><div class="t-site-search-popup t-width t-width_8"><div class="t-site-search-pu__close"><img style="width:20px" src="'+close_svg+'"></div><div class="t-site-search-pu">';if(!0!==sResults.error&&(html+='<h3 class="t-title" style="margin: 15px; margin-bottom: 25px; margin-top: 0">'+translation.showAlltitle[lang]+": "+escapeHtml(currentInput.val())+"</h3>"),initUp&&(html+='<img width="24px" class="t-site-search-popup__preloader" src="'+loader_svg+'" />'),sResults.total>0&&void 0!==sResults.pages){if($.each(sResults.pages,(function(key,value){if(!0===sResults.error)html+='<div class="t-site-search-dm__result"><div class="t-site-search-dm__result__title t-descr">'+value.title+'</div><div class="t-site-search-dm__result__body t-text">'+value.highlight+"</div></div>";else if(void 0!==value.product){var title=value.product.title.length<10?value.highlight:value.product.title,price=parseFloat(value.product.price)||"";html+='<div class="t-site-search-dm__result"><a class="t-site-search-dm__result__product" target="_blank" href="'+value.pageurl+'"><div class="t-site-search-dm__thubmnail"><div class="t-site-search-dm__result__product_img" style="background-image:url(\''+value.product.img+'\')"></div></div><div class="t-site-search-dm__result__product_text"><div class="t-site-search-dm__result__product_title t-text">'+title+'</div><div class="t-site-search-dm__result__product_price t-text">'+price+"</div></div></a></div>"}else html+='<div class="t-site-search-dm__result"><a target="_blank" href="'+value.pageurl+'"><div class="t-site-search-dm__result__title t-descr">'+value.title+'</div><div class="t-site-search-dm__result__body t-text">'+value.highlight+"</div></a></div>"})),html+="</div>",sResults.pagin>1){html+='<hr style="opacity: 0.2; margin-top: 20px; margin-bottom: 20px">',html+='<div class="t-site-search-pu__pagination">';for(var page=1;page<=sResults.pagin;page++)html+=page!=currentPage?'<span class="t-text" page="'+page+'">'+page+"</span>":'<span class="t-text t-site-search-pu__pagination-active" page="'+page+'">'+page+"</span>";html+="</div>"}html+="</div>"}else 0!=sResults.total||initUp?void 0===sResults.pages&&sResults.total>0&&sResults.pagin>0&&(html+='<div class="t-site-search-dm__result t-text">'+translation.noResult[lang]+"</div></div>",$(".t-site-search-popup__preloader").hide()):(html+='<div class="t-site-search-dm__result t-text">'+translation.noResult[lang]+"</div></div>",$(".t-site-search-popup__preloader").hide());html+="</div>",$(".t-site-search-popup__background").remove(),$("body").addClass("body-fix"),0===currentInput.parent().length||void 0!==currentInput.parents("div.t-site-search-input").attr("data-sidemenu-search")?$("body").append(html):currentInput.parents("div.t-site-search-input").after(html),$(".t-site-search-popup__preloader").show()}function tsearch__hidePopup(){if("URLSearchParams"in window){var search=new URLSearchParams(window.location.search),query=search.get("search"),slice=search.get("slice");null!==query&&search.delete("search"),null!==slice&&search.delete("slice"),""!==search.toString()?history.replaceState(null,"",location.pathname+"?"+escapeHtml(search.toString())):history.replaceState(null,"",location.pathname)}$("body").removeClass("body-fix"),$(".t-site-search-popup__background").remove(),$("body").off("keyup","body",tsearch__waitESCpressed),$("body").off("keyup","body",tsearch__waitCLICKdone)}function tsearch__searchDMClose(){$(".t-site-search-dm").length>0&&(xhr&&xhr.abort(),$(".t-site-search-dm").remove(),$("body").off("keyup","body",tsearch__waitESCpressed),$("body").off("keyup","body",tsearch__waitCLICKdone))}function tsearch__request(action,page,query){page=parseInt(page,10)||1;var cAction=action||1,project=$("#allrecords").attr("data-tilda-project-id");void 0!==currentInput&&void 0===query&&(query=currentInput.val()),query.length<2||(xhr&&xhr.abort(),xhr="",$.ajax({type:"GET",url:"https://search.tildacdn.com/search/?p="+project+"&q="+encodeURIComponent(query)+"&page="+page,success:function(data){1==cAction?tsearch__displayDownMenu(data):tsearch__displayPopup(data)},beforeSend:function(){currentInput.parent("div").children(".t-site-search-close").hide(),2==cAction?(tsearch__displayPopup({},!0),currentInput.parent("div").children("button").attr("disabled","disabled").css("opacity","0.5"),currentPage=page):(currentInput.parent("div").children(".t-site-search-loader").show(),currentPage=1),inputFormWidth=currentInput.outerWidth(),inputFormLeft=currentInput.position().left-1},complete:function(){query.length>1&&currentInput.parent("div").children(".t-site-search-close").show(),currentInput.parent("div").children(".t-site-search-loader").hide(),currentInput.parent("div").children("button").removeAttr("disabled").css("opacity","1"),$(".t-site-search-showAllLoader").remove()},error:function(jqXHR,textStatus,errorThrown){if("abort"!=textStatus){var failData={total:1,error:!0,pages:{0:{id:0,pageurl:"#",title:translation.errorOccurred[lang],highlight:translation.errorOccurredText[lang]+". <br>"+translation.description[lang]+": "+textStatus+" "+errorThrown}}};1==cAction?tsearch__displayDownMenu(failData):tsearch__displayPopup(failData)}},dataType:"json"}))}function escapeHtml(text){var map={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return text.replace(/[&<>"']/g,(function(el){return map[el]}))}$(".t-site-search-input input").on("keyup",(function(event){13==event.keyCode&&(currentInput=$(this),tsearch__request(2),$(this).blur()),27==event.keyCode&&$(".t-site-search-dm").length>0&&(tsearch__searchDMClose(),event.preventDefault())})),$(".t-site-search-input input").after('<img width="18px" class="t-site-search-loader" src="'+loader_svg+'">'),$(".t-site-search-input input").after('<img width="18px" class="t-site-search-close" src="'+close_svg+'">'),$(".t-site-search-input input").on("input",(function(){return void 0===$(this).parents("div.t-site-search-input").attr("data-onlypopup")&&(!($(document).height()-$(this).offset().top<400)&&((currentInput=$(this)).val().length>=2&&(timerID>0&&clearTimeout(timerID),timerID=setTimeout((function(){tsearch__request(1)}),300)),void(0==currentInput.val().length&&$(currentInput).parent("div").children("img.t-site-search-close").hide())))})),$(".t-site-search-input button").on("click",(function(){$(".t-site-search-dm").remove(),currentInput=$(this).parents("div.t-site-search-input").find("input"),tsearch__request(2)})),$(".t-site-search-input").on("click",".t-site-search-dm__allresultslink",(function(){tsearch__request(2)})),$("body").on("click",".t-site-search-pu__pagination span[page]",(function(){$(this).attr("disabled","disabled"),tsearch__request(2,$(this).attr("page"))}))}));